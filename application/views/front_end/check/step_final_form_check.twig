{% extends "front_end/base.twig" %}

{% block head %}
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
           <div class="col-md-10 col-center form-account">
              <div class="panel-form basic-form form">
                <h2 style="text-align: left">Berdasarkan Diagnosa Yang Anda Alami :</h2>
                    <div class="row row-final">
                    <div class="form-group">
                        <div class="col-md-6">
                            <button type="button" class="btn btn-login btn-green btn-block" data-toggle="modal" data-target="#modal1"><i class="glyphicon glyphicon-book" style="text-align: center;
    margin: auto;"></i> Lihat Hasil Diagnosa Penyakit</button>
                        </div>
                        <div class="col-md-6 pull-right">
                            <button type="button" class="btn btn-login btn-orange btn-block btn-lg" data-toggle="modal" data-target="#modal2"><i class="fa fa-spoon" style="font-size:24px"></i> Lihat Rekomendasi Makanan</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-6">
                            <button type="button" class="btn btn-login btn-block btn-lg" data-toggle="modal" data-target="#modal3"><i class="glyphicon glyphicon-list"></i> Lihat Solusi</button>
                        </div>
                        <div class="col-md-6 pull-right">
                            <button type="button" class="btn btn-login btn-red btn-block btn-lg" data-toggle="modal" data-target="#modal4"><i class="glyphicon glyphicon-file"></i> Surat Keterangan Penyakit</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-6">
                            <button type="button" class="btn btn-login btn-yellow btn-block btn-lg" data-toggle="modal" data-target="#modal5"><i class="glyphicon glyphicon-glass"></i> Lihat Saran</button>
                        </div>
                        <div class="col-md-6 pull-right">
                            <button type="button" class="btn btn-login btn-purple btn-block btn-lg" data-toggle="modal" data-target="#modal6"><i class="glyphicon glyphicon-print"></i> Cetak Surat Prediksi Penyakit</button>
                        </div>
                    </div>
                    </div>
                 </div>
              </div>
           </div>
    </div>

    <!-- modal diagnosa -->
    <div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Hasil Diagnosa Penyakit Sementara</h4>
          </div>
          <div class="modal-body">
            St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm
          </div>
          {# <div class="modal-footer"> #}
            {# <button type="button" class="btn btn-default" data-dismiss="modal">Back</button> #}
            {# <button type="button" class="btn btn-primary">Save changes</button> #}
          {# </div> #}
        </div>
      </div>
    </div>

    <!-- modal food recomendation -->
    <div class="modal fade" id="modal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Lihat Rekomendasi Makanan</h4>
          </div>
          <div class="modal-body">
            St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm
          </div>
          {# <div class="modal-footer"> #}
            {# <button type="button" class="btn btn-default" data-dismiss="modal">Back</button> #}
            {# <button type="button" class="btn btn-primary">Save changes</button> #}
          {# </div> #}
        </div>
      </div>
    </div>

    <!-- modal solution -->
    <div class="modal fade" id="modal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Hasil Solusi Penyakit Yang Di Derita</h4>
          </div>
          <div class="modal-body">
            St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm
          </div>
          {# <div class="modal-footer"> #}
            {# <button type="button" class="btn btn-default" data-dismiss="modal">Back</button> #}
            {# <button type="button" class="btn btn-primary">Save changes</button> #}
          {# </div> #}
        </div>
      </div>
    </div>

    <!-- modal disease description -->
    <div class="modal fade" id="modal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Surat Hasil Keterangan Sementara</h4>
          </div>
          <div class="modal-body">
            Nama : Rinez Asprinola<br>
            Usia : 20 Tahun<br>
            Tanggal Lahir : 12 Aprl 1997<br>
            <p> St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm </p>
          </div>
          {# <div class="modal-footer"> #}
            {# <button type="button" class="btn btn-default" data-dismiss="modal">Back</button> #}
            {# <button type="button" class="btn btn-primary">Save changes</button> #}
          {# </div> #}
        </div>
      </div>
    </div>

    <!-- modal suggestion -->
    <div class="modal fade" id="modal5" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Hasil Saran Penyakit Yang Di Derita</h4>
          </div>
          <div class="modal-body">
            St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm
          </div>
          {# <div class="modal-footer"> #}
            {# <button type="button" class="btn btn-default" data-dismiss="modal">Back</button> #}
            {# <button type="button" class="btn btn-primary">Save changes</button> #}
          {# </div> #}
        </div>
      </div>
    </div>

    <!-- modal disease description -->
    <div class="modal fade" id="modal6" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Surat Prediksi Penyakit Sementara</h4>
          </div>
          <div class="modal-body">
            Nama : Rinez Asprinola<br>
            Usia : 20 Tahun<br>
            Tanggal Lahir : 12 Aprl 1997 <br>
            <p> St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm St Lorem ipsum dolor, grou ingotufmm </p>
          </div>
          {# <div class="modal-footer"> #}
            {# <button type="button" class="btn btn-default" data-dismiss="modal">Back</button> #}
            {# <button type="button" class="btn btn-primary">Save changes</button> #}
          {# </div> #}
        </div>
      </div>
    </div>
{% endblock %}

{% block footer %}
    <script>
    APP.handleDatePicker('.input-group.date');
    $('.input-group.date').on('dp.change dp.show', function() {
        $('#register').formValidation('revalidateField', 'born_date');
    });
    $('#register').formValidation({
        framework: 'bootstrap',
        fields: {
            name: {
                validators: {
                    notEmpty: {
                        message: 'Nama Lengkap tidak boleh kosong'
                    }
                }
            },
            email: {
                validators: {
                    emailAddress: {
                        message: 'Email tidak valid'
                    },
                    notEmpty: {
                        message: 'Email tidak boleh kosong'
                    }
                }
            },
            username: {
                validators: {
                    notEmpty: {
                        message: 'Username tidak boleh kosong'
                    },
                    stringLength: {
                        max: 30,
                        message: 'The username must be less than 30 characters long'
                    },
                    regexp: {
                        regexp: /^[a-zA-Z0-9_\.]+$/,
                        message: 'Username tidak boleh menggunakan symbol'
                    }
                }
            },
            gender: {
                validators: {
                    notEmpty: {
                        message: 'Pilih jenis kelamin'
                    }
                }
            },
            born_date: {
                validators: {
                    notEmpty: {
                        message: 'Tanggal lahir tidak boleh kosong'
                    },
                    regexp: {
                        regexp: /^[0-9]{4}\-+[0-9]{2}\-[0-9]{2}$/,
                        message: 'Masukan dengan format YYYY-MM-DD'
                    }
                }
            },
            password: {
                validators: {
                    identical: {
                        field: 'confirm_password',
                        message: 'Password tidak sesuai'
                    },
                    stringLength: {
                        min: 6,
                        max: 15,
                        message: 'Password terlalu pendek'
                    }
                }
            },
            confirm_password: {
                validators: {
                    identical: {
                        field: 'password',
                        message: 'Password tidak sesuai'
                    },
                    stringLength: {
                        min: 6,
                        max: 15,
                        message: 'Konfirmasi password terlalu pendek'
                    }
                }
            }
        }
    }).on('success.form.fv', function(e) {
        e.preventDefault();
        var $form = $(e.target),
            fv    = $form.data('formValidation');
        $.ajax({
            url: site_url('authentication/simpan'),
            type: 'POST',
            data: $form.serialize()
        }).done(function(data) {
            if (data.status) {
                toastr.success(data.message);
                setTimeout(function(){ window.location = site_url('authentication'); }, 2000);
            } else {
                toastr.error(data.message);
            }
        }).fail(function (xhr, status, error) {
            var msg = '';
            if (xhr.status === 404) {
                msg = 'Requested page not found.';
            } else if (xhr.status === 500) {
                msg = 'Internal Server Error.';
            } else if (error === 'parsererror') {
                msg = 'Requested failed.';
            } else if (error === 'timeout') {
                msg = 'Time out error.';
            } else if (error === 'abort') {
                msg = 'Request aborted.';
            }
            toastr.error(msg);
        });
    });
    </script>
{% endblock %}